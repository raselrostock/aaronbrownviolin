jQuery(document).ready(function(t){"use strict";function a(a){var i=a.attr("song");e=new Audio(i),t("#playlist li.active")?t("#playlist li.active").removeClass("active"):t("#playlist li").removeClass("active"),a.addClass("active")}function i(a){t(e).bind("timeupdate",function(){var i=parseInt(e.currentTime%60),s=parseInt(e.currentTime/60%60);10>i&&(i="0"+i),t('#duration[data-post_id="'+a+'"]').html(s+"."+i);var d=0;e.currentTime>0&&(d=Math.floor(100/e.duration*e.currentTime)),t('#progress[data-post_id="'+a+'"]').css("width",d+"%")})}var s=t(".playBtn"),d=t(".stopBtn");d.hide();var e,o=260;t("#progressBar"),t("#progress");a(t("#playlist li:first-child")),s.click(function(){var o=t(this).data("post_id");e.pause(),s.show(),d.hide(),a(t('#playlist li[data-post_id="'+o+'"]:first-child')),e.play(),t('.playBtn[data-post_id="'+o+'"]').hide(),t('.stopBtn[data-post_id="'+o+'"]').show(),t('#duration[data-post_id="'+o+'"]').fadeIn(400),i(o)}),d.click(function(){e.pause();var a=t(this).data("post_id");t('.stopBtn[data-post_id="'+a+'"]').hide(),t('.playBtn[data-post_id="'+a+'"]').show(),t('#duration[data-post_id="'+a+'"]').fadeOut(400)}),t("#playlist li").live("click",function(){e.pause(),s.show(),d.hide();var o=t(this).index();o+=1;var r=t(this).data("post_id");a(t('#playlist li[data-post_id="'+r+'"]:nth-child('+o+")")),t('.playBtn[data-post_id="'+r+'"]').hide(),t('.stopBtn[data-post_id="'+r+'"]').show(),e.play(),t('#duration[data-post_id="'+r+'"]').fadeIn(400),i(r)}),t("#progressBar").live("click",function(a){var i=t(this).data("post_id");if(!e.ended){var s=t('#progressBar[data-post_id="'+i+'"]').offset(),d=parseInt(s.left),r=parseInt(a.pageX),p=Math.floor(r-d),n=parseInt(p*(e.duration/o));e.currentTime=n}})});