jQuery(document).ready(function(e){"use strict";function t(t){var i=!0;e("body").on("click",t,function(){var n="#"+e(this).attr("id"),a=jQuery(this).parent().parent().children(".custom_media_id"),r=jQuery(this).parent().children("input:text"),d=jQuery(this).parent().children(".custom_media_image"),s=jQuery(this).parent().children(".custom_media_display_in_customizer");return i=!0,wp.media.editor.send.attachment=function(e,t){if("undefined"!=typeof t){if(!i)return wp.media.editor.send.attachment(n,[e,t]);if("undefined"!=typeof r){switch("undefined"!=typeof t.id&&a.val(t.id),"undefined"!=typeof t.sizes&&"undefined"!=typeof t.sizes.thumbnail?"undefined"!=typeof t.sizes.thumbnail.url&&(d.attr("src",t.sizes.thumbnail.url).css("display","block"),s.val(t.sizes.thumbnail.url)):"undefined"!=typeof t.url&&(d.attr("src",t.url).css("display","block"),s.val(t.url)),e.size){case"full":r.val(t.sizes.full.url);break;case"medium":r.val(t.sizes.medium.url);break;case"thumbnail":r.val(t.sizes.thumbnail.url);break;default:r.val(t.url)}r.trigger("change")}}},wp.media.editor.open(t),window.send_to_editor=function(e){},!1})}e(document).on("change",".custom_media_url",function(){var t=e.trim(e(this).val()),i=e(this).parent().find(".custom_media_image"),n=e(this).parent().parent().find(".custom_media_id");0===t.length&&(i.attr("src",""),i.attr("alt",""),n.val(""));var a=e(this).closest(".form").find(".widget-control-save");"undefined"!=typeof a&&a.trigger("click")}),t(".custom_media_button")});